<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tic Tac Toe - BombForge</title>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }

    body {
      font-family: Arial, sans-serif;
      background:#111;
      color:#fff;
      display:flex;
      flex-direction:column;
      min-height:100vh;
      align-items:center;
    }

    /* Header */
    header {
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:15px 20px;
      position:relative;
      width:100%;
    }
    .logo {
      font-size:24px;
      font-weight:bold;
      color:#00ffcc;
    }
    .logo p {
      font-size:14px;
      color:#aaa;
      margin-top:2px;
      font-weight:normal;
    }
    .search-bar {
      position:absolute;
      left:50%;
      transform:translateX(-50%);
      display:flex;
      align-items:center;
      background:#222;
      border-radius:25px;
      padding:6px 12px;
      gap:6px;
    }
    .search-bar input {
      background:transparent;
      border:none;
      outline:none;
      color:#fff;
      font-size:14px;
      width:180px;
    }
    .search-bar input::placeholder { color:#777; }
    .search-bar svg { width:18px; height:18px; fill:#aaa; }

    main {
      flex:1;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      padding:20px;
      gap:16px;
    }

    h2 { font-size:22px; color:#ddd; }

    /* Grid */
    #board {
      display:grid;
      grid-template-columns: repeat(3, 100px);
      grid-template-rows: repeat(3, 100px);
      gap:6px;
    }
    .cell {
      background:#222;
      border:2px solid #444;
      border-radius:12px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:48px;
      font-weight:bold;
      cursor:pointer;
      transition:background .2s ease;
    }
    .cell:hover { background:#333; }

    #message { font-size:18px; font-weight:bold; min-height:22px; }

    /* Buttons */
    .btn {
      padding:10px 16px;
      border:none;
      border-radius:8px;
      font-weight:bold;
      cursor:pointer;
      background:linear-gradient(135deg, #00ffcc, #0066ff);
      color:black;
    }
    .btn:hover { background:linear-gradient(135deg, #00ffaa, #0099ff); }

    .link-btn {
      display:inline-block;
      padding:10px 16px;
      border-radius:8px;
      font-weight:bold;
      text-decoration:none;
      background:linear-gradient(135deg, #00ffcc, #0066ff);
      color:black;
    }
    .link-btn:hover { background:linear-gradient(135deg, #00ffaa, #0099ff); }

    .always-home { margin-top:10px; }
    .always-home a {
      color:#00ffcc;
      text-decoration:none;
      font-weight:bold;
    }

    #actions {
      display:flex;
      gap:10px;
      margin-top:12px;
    }

    /* Scoreboard */
    #scoreboard {
      display:flex;
      gap:20px;
      font-size:16px;
    }
    #scoreboard span { color:#00ffcc; font-weight:bold; }

    @media(max-width:500px) {
      #board {
        grid-template-columns: repeat(3, 80px);
        grid-template-rows: repeat(3, 80px);
      }
      .cell { font-size:36px; }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">
      BombForge Webgames
      <p>Games made for YOU!</p>
    </div>
    <div class="search-bar">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path d="M10 2a8 8 0 015.292 13.708l4.5 4.5-1.414 1.414-4.5-4.5A8 8 0 1110 2zm0 2a6 6 0 100 12 6 6 0 000-12z"/>
      </svg>
      <input type="text" placeholder="Search games...">
    </div>
  </header>

  <main>
    <h2>Tic Tac Toe</h2>
    <div id="scoreboard">
      <div>X Wins: <span id="xScore">0</span></div>
      <div>O Wins: <span id="oScore">0</span></div>
      <div>Draws: <span id="draws">0</span></div>
    </div>

    <div id="board"></div>

    <div id="message">Player X's turn</div>

    <div id="actions">
      <button class="btn" id="retryBtn">Play Again</button>
      <a class="link-btn" href="home.html">Return Home</a>
    </div>
  </main>

  <script>
    const board = document.getElementById("board");
    const message = document.getElementById("message");
    const retryBtn = document.getElementById("retryBtn");

    const xScoreEl = document.getElementById("xScore");
    const oScoreEl = document.getElementById("oScore");
    const drawsEl = document.getElementById("draws");

    let cells = [];
    let currentPlayer = "X";
    let gameActive = true;
    let xScore = 0, oScore = 0, draws = 0;

    // Create grid
    function initBoard() {
      board.innerHTML = "";
      cells = [];
      for (let i=0;i<9;i++) {
        const cell = document.createElement("div");
        cell.className = "cell";
        cell.dataset.index = i;
        cell.addEventListener("click", onCellClick);
        board.appendChild(cell);
        cells.push(cell);
      }
      message.textContent = "Player " + currentPlayer + "'s turn";
      gameActive = true;
    }

    function onCellClick(e) {
      const cell = e.target;
      if (!gameActive || cell.textContent!=="") return;

      cell.textContent = currentPlayer;

      if (checkWin(currentPlayer)) {
        message.textContent = "Player " + currentPlayer + " Wins!";
        gameActive = false;
        if (currentPlayer==="X") { xScore++; xScoreEl.textContent = xScore; }
        else { oScore++; oScoreEl.textContent = oScore; }
        return;
      }

      if (cells.every(c=>c.textContent!=="")) {
        message.textContent = "It's a Draw!";
        draws++;
        drawsEl.textContent = draws;
        gameActive = false;
        return;
      }

      currentPlayer = currentPlayer==="X" ? "O" : "X";
      message.textContent = "Player " + currentPlayer + "'s turn";
    }

    function checkWin(player) {
      const wins = [
        [0,1,2],[3,4,5],[6,7,8], // rows
        [0,3,6],[1,4,7],[2,5,8], // cols
        [0,4,8],[2,4,6]          // diags
      ];
      return wins.some(combo => combo.every(i=>cells[i].textContent===player));
    }

    retryBtn.addEventListener("click", ()=>{
      currentPlayer = "X";
      initBoard();
    });

    initBoard();
  </script>
</body>
</html>
